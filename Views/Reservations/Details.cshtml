@model CineMate.Data.Entities.Reservation

@{
    ViewData["Title"] = $"Reservation #{Model.Id}";
    var seats = (List<CineMate.Data.Entities.Seat>)ViewData["SeatList"];
}

<h1>@ViewData["Title"]</h1>

<div class="row">
    <div class="col-md-6">
        <h4>Screening</h4>
        <dl class="row">
            <dt class="col-sm-4">Movie</dt>
            <dd class="col-sm-8">@Model.Screening.Movie.Title</dd>

            <dt class="col-sm-4">Cinema</dt>
            <dd class="col-sm-8">@Model.Screening.Cinema.Name</dd>

            <dt class="col-sm-4">Start Time</dt>
            <dd class="col-sm-8">@Model.Screening.StartTime.ToString("g")</dd>
        </dl>
    </div>

    <div class="col-md-6">
        <h4>Tickets</h4>
        <dl class="row">
            <dt class="col-sm-4">Count</dt>
            <dd class="col-sm-8">@seats.Count</dd>

            <dt class="col-sm-4">Category</dt>
            <dd class="col-sm-8">@Model.Category</dd>

            <dt class="col-sm-4">Seats</dt>
            <dd class="col-sm-8">
                @if (seats.Any())
                {
                    @string.Join(", ", seats.Select(s => $"{s.Row}-{s.Number}"))
                }
                else
                {
                    <em>None</em>
                }
            </dd>

            <dt class="col-sm-4">Total Price</dt>
            <dd class="col-sm-8">
                @Model.TotalPrice.ToString("F2") лв.
            </dd>
        </dl>
    </div>
</div>

<p>
    <a asp-action="Index" class="btn btn-secondary">Back to list</a>
</p>
